#/***************************************************************
# *  Copyright notice
# *
# *  (c) 2013 aijko GmbH <info@aijko.de
# *
# *  All rights reserved
# *
# *  This script is part of the TYPO3 project. The TYPO3 project is
# *  free software; you can redistribute it and/or modify
# *  it under the terms of the GNU General Public License as published by
# *  the Free Software Foundation; either version 3 of the License, or
# *  (at your option) any later version.
# *
# *  The GNU General Public License can be found at
# *  http://www.gnu.org/copyleft/gpl.html.
# *
# *  This script is distributed in the hope that it will be useful,
# *  but WITHOUT ANY WARRANTY; without even the implied warranty of
# *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# *  GNU General Public License for more details.
# *
# *  This copyright notice MUST APPEAR in all copies of the script!
# ***************************************************************/

module.tx_sharepointconnector {
	persistence {
		storagePid = {$module.tx_sharepointconnector.persistence.storagePid}
	}
	view {
		templateRootPath = {$module.tx_sharepointconnector.view.templateRootPath}
		partialRootPath = {$module.tx_sharepointconnector.view.partialRootPath}
		layoutRootPath = {$module.tx_sharepointconnector.view.layoutRootPath}
	}

	settings {

		sharepointServer {

			#
			# REST Service settings
			#

			rest {
				serviceUrl = /_vti_bin/ListData.svc
				httpHeader {
					default {
						0 = content-type:application/xml
					}
					json {
						0 = content-type:application/json
						1 = accept: application/json
					}
				}

				oData {
					metadata = /$metadata
				}
			}

		}

	}
}

config.tx_extbase {
	objects {
		Aijko\SharepointConnector\Service\SharepointInterface {
			className = Aijko\SharepointConnector\Service\RestService
		}
	}
}

